<!DOCTYPE html>
<html lang="en">
<!-- EJS head partial -->
<%- include('../partials/head.ejs'), {title: title}%>
	<body>
		<div class="container">
			<!-- Express snippet to include the header and navigation from a partial -->
			<%- include('../partials/nav.ejs') %>
			<!-- Page content begins below this -->
			<h1><%= course_id %> Leaderboard</h1>
			<table data-toggle="table" data-search="true">
				<thead>
					<tr class="d-flex">
						<!-- 
						th classes must add up to 12 (such as col-5,col-5,col-2) 
						to fill entire table width 
						-->
						<th scope="col" data-sortable="true" class="col-2">Rank</th>
						<th scope="col" data-sortable="true" class="col-5">Name</th>
						<th scope="col" data-sortable="true" class="col-5">Grade</th>
					</tr>
				</thead>
				<tbody>
					<% res.forEach(function (r) { %>
					<tr scope="row" class="d-flex">
						<th><%=r.ranking %></th>
						<% if(r.avatar_url != null){ %>
							<td><img 
									class="leaderboard-avatar"
									src=<%= r.avatar_url %> 
									alt="user avatar"
									><%= r.name %> </td>
						<% } else { %>
							<td><%= r.name %> </td> 
				        <% } %>
						<td><%= r.grade %></td>
					</tr>
					<% }); %>
				</tbody>
			</table>
		</div>
		<%- include('../partials/footer.ejs') %>
	</body>
	<!-- Optional JavaScript -->
	<!-- Bootstrap Requirements -->
	<%- include('../partials/bootstrap_reqs.ejs') %>
</html>